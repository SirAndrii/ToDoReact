<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="todo.css">
  <title>ToDo list </title>
</head>

<body>
  <div class="todo glass">
   <!--  <div class="todo_header glass">
      <h2>Welcome to Do!</h2>
    </div> -->
    <div class="todo_info"></div>

    <div class="todo_addlist">
      <span>List: </span>
      <select id="taskList">
        <option diabled selected value="">--select</option>
      </select>
      <button id="delList">×</button>
      <input type="text" id="listName" placeholder="Put new List name" data-width="200px" style="width:0px; opacity:0">
      <button id="addList" name="expand">➕</button>
    </div>
    <div class="todo_form">
      <span>Task: </span>

      <!-- <button name="expand" id="calendar" style="display:none">C</button> -->
      <input type="text" id="taskName" placeholder="Put task name" data-width="200px"
        style="width:0px; opacity:0; padding-left:0px">
      <img src="calendar.png" id="calendarImg" style="height:32px; display:none">
      <input type="date" step="1" data-width="100px" style="width:0px; opacity:0" id="calendar"
        pattern="\d{2}-\d{2}-\d{2}">
      <button id="addTask" name="expand">➕</button>
    </div>
    <div class="todo_sort glass"><span>Tasks to Do</span>

      <label>Sort by:
        <select id="sortNodes">
          <option>default</option>
          <option>name</option>
          <option>completence</option>
          <option>date</option>
        </select>
      </label>
      <label>Show:
        <select id="showNodes">
          <option>all</option>
          <option>today</option>
          <option>tomorrow</option>
          <option>week</option>
          <option>endless</option>
          <option>completed</option>
          <option>uncompleted</option>
          <option>missed</option>
        </select>
      </label>
    </div>
    <div class="todo_list">


      <div id="tasks"></div>

    </div>
  </div>

  <script src="todo.js"></script>

  <script>
    /**
     * Export and import DEMO data from the localstorage
     */
    if (localStorage.length === 0) {
      document.body.insertAdjacentHTML('beforeend',
        '<button onclick="insertDemo()" style="margin: 10px auto; display: block; padding: 15px; font-weight: bold;">insert Demo Data to your localstorage</button>'
      );
    }
    /* copy('var data = '+JSON.stringify(localStorage)+';Object.keys(data).forEach(function (k){localStorage.setItem(k, data[k]);});'); */
    function insertDemo() {
      let dataTODO = {
        "bugs": "[{\"name\":\"undefined list created\",\"date\":null,\"completed\":true},{\"name\":\"tasks don't shown visually if task previously had no tasks\",\"date\":null,\"completed\":true},{\"name\":\"Hi\",\"date\":\"2021-09-02\",\"completed\":true},{\"name\":\"uncomplete\",\"date\":false,\"completed\":false}]",
        "Graphic": "[{\"name\":\"Add glassmorphism style\",\"date\":null,\"completed\":true},{\"name\":\"make button expands effect\",\"date\":null,\"completed\":true},{\"name\":\"add Date icon\",\"date\":null,\"completed\":true}]",
        "Watched Films": "[{\"name\":\"Iron man\",\"date\":false,\"completed\":false},{\"name\":\"Iron man 2 \",\"date\":\"2010-10-10\",\"completed\":true},{\"name\":\"Iron Man 3 \",\"date\":\"2013-10-10\",\"completed\":true},{\"name\":\"Halk 1\",\"date\":\"2008-10-10\",\"completed\":false},{\"name\":\"Gardian of the Galaxy 1\",\"date\":false,\"completed\":true},{\"name\":\"Gardian of the Galaxy 2\",\"date\":false,\"completed\":true},{\"name\":\"Gardian of the galaxy 3\",\"date\":\"2023-12-10\",\"completed\":false},{\"name\":\"Eternals\",\"date\":\"2021-09-20\",\"completed\":false},{\"name\":\"Spider man\",\"date\":\"2020-10-10\",\"completed\":false}]",
        "methods": "[{\"name\":\"Sort by date\",\"date\":null,\"completed\":false},{\"name\":\"Hide completed\",\"date\":null,\"completed\":false},{\"name\":\"sort by complete\",\"date\":null,\"completed\":false},{\"name\":\"remove list\",\"date\":null,\"completed\":true},{\"name\":\"Date optional\",\"date\":null,\"completed\":true},{\"name\":\"show task after add\",\"date\":null,\"completed\":true},null]",
        "default": "[{\"name\":\"add task\",\"date\":null,\"completed\":false},{\"name\":\"test\",\"date\":false,\"completed\":false},{\"name\":\"test undefined Bug\",\"date\":false,\"completed\":false}]"
      };
      Object.keys(dataTODO).forEach(function (k) {
        localStorage.setItem(k, dataTODO[k]);
        location.reload();
      });
    }
  </script>
</body>

</html>